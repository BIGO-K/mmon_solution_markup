@charset 'utf-8';

@use 'sass:math';
@use '../../common/helper/function' as *;
@use '../../common/helper/mixin';
@use '../../common/setting/const';
@use '../../style/setting/var';

/**
 * 랭킹
*/

/** A타입 */
.m_ranking#{escape('.T=ra')} {
	[class*='m_ranking-']:not([class*='T=custom']) {
		// 랭킹 타이틀 컬러
		$section: ('item', #fbef2c), ('brand', #80ebd1), ('view', #fdadb2), ('like', #a1f9a8);
		@each $type, $bgColor in $section {
			&[class*=#{$type}] {
				> h3 {
					b::before {
						background-color: $bgColor;
						content: '';
					}
				}
			}
		}

		// 랭킹 메인
		@include mixin.is('section', '&') {
			&:nth-of-type(n+2):not(.m_ranking-brand) {
				margin-top: 28px;
			}

			> h3 {
				padding: 34px 0 12px;
				@include mixin.font('2.2rem' center);

				strong {
					margin-right: 6px;
					font-variation-settings: 'wght' 700;
				}

				b {
					position: relative;
					z-index: 1;

					&::before {
						position: absolute;
						z-index: -1;
						right: -1px;
						bottom: -1px;
						left: -1px;
						height: 10px;
					}
				}
			}

			.text_update {
				margin-bottom: 21px;
				@include mixin.font(#767676 v_400 '1.2rem' center);

				span {
					display: inline-block;
					margin-right: 5px;
				}
			}

			.mm_foot {
				margin-top: 21px;

				.ico_link {
					margin: 10px 0 0 9px;

					&::before {
						background-color: #6a6a6a;
					}
				}
			}
		}

		.text_rank {
			@include mixin.font(v_600 '1.5rem/2.4rem');

			&::before {
				counter-increment: listIndex;
				content: counter(listIndex);
			}

			> *::after {
				position: absolute;
				z-index: -1;
				top: 0;
				left: 0;
				width: 63px;
				height: 28px;
				background-color: #fff;
				content: '';
			}

			$ranks: (up, #ee6439), (down, #645ffc), (new, var.$color_text_base), (unchanged, #888);
			@each $rank, $color in $ranks {
				@if $rank == up or $rank == down {
					.text_rank-#{$rank} {
						@include mixin.font($color v_600 '1.2rem');
					}
				}

				.ico_rank-#{$rank} {
					@if $rank == unchanged {
						margin: 10px 0 0 15px;
					}
					@else {
						margin: 9px 4px 0 11px;
					}
					@if $rank == new {
						margin: 0 0 0 7px;

						&::before {
							@include mixin.font($color v_700 '1.2rem/2.2rem');

							content: 'new';
						}
					}
				}
			}
		}

		// 랭킹 상품리스트 순위 노출
		.mm_product-list,
		&.mm_product-list {
			counter-reset: listIndex;

			&#{escape('.T=card')} {
				ol {
					grid-gap: 21px 12px;
				}
			}

			.text_rank {
				position: absolute;
				z-index: 3; // text_adult 의 z-index보다 높이기 위해 3으로 설정
				padding: 0 4px;
				min-width: 34px;
				height: 28px;
				background-color: #fff;

				&::before {
					counter-increment: listIndex;
					content: counter(listIndex);
				}

				+ figure {
					.text_tag {
						top: 28px;
					}
				}
			}
		}

		.m_ranking-head {
			position: relative;
			margin-top: 7px;

			> .mm_form-select {
				float: right;
				width: auto;
				min-width: 70px;

				label {
					height: 34px;
					border: 0;

					select {
						padding-right: 22px;
					}

					.text_selected {
						padding-right: 22px;
						@include mixin.font('1.3rem/3.4rem' right);
					}

					.ico_form-select {
						top: 13px;
						right: 6px;

						&::before {
							width: 9px;
						}
					}
				}
			}

			&-update {
				display: inline-block;

				.text_update {
					display: inline-block;
					@include mixin.font(#7b7b7b v_400 '1.3rem/3.4rem');

					span {
						margin-right: 7px;
					}
				}

				.btn_help {
					position: relative;
					padding: 11px 0 0 2px;

					&::before {
						position: absolute;
						inset: 0 -11px -11px -9px;
						content: '';
					}
				}

				&#{escape('.S=switch-on')} {
					#{escape('.m...update-tooltip')} {
						display: block;
					}
				}

				#{escape('.m...update-tooltip')} {
					display: none;
					position: absolute;
					z-index: 4;
					top: 31px;
					right: 0;
					left: 0;
					padding: 8px 50px 8px 11px;
					border: 1px solid #8c8c8c;
					border-radius: 3px;
					background-color: #fff;
					@include mixin.font(#2b2b2b v_400 '1.4rem/1.8rem');

					.btn_close {
						position: absolute;
						top: 0;
						right: 0;
						padding: 11px;
						line-height: 0;

						.ico_close::before {
							width: 11px;
							height: 11px;
							background-color: #2b2b2b;
						}
					}
				}
			}

			+ .mm_product-list {
				margin-top: 12px;
			}
		}
	}

	// 랭킹 gnb
	.m_ranking-gnb {
		height: 47px;
		background-color: #f5f5f5;

		ul {
			padding: 0 23px;

			li {
				float: left;
				position: relative;

				&:nth-of-type(n+2)::before {
					position: absolute;
					top: 50%;
					left: 0;
					margin-top: -5px;
					height: 9px;
					border-left: 1px solid #d5d5d5;
					content: '';
				}

				> a {
					@include mixin.font(#4a4a4a '1.4rem/4.8rem' center);

					&#{escape('.S=gnb-on')} {
						@include mixin.font(var.$color_text_base v_700);
					}
				}
			}
		}

		~ .mm_text-none {
			margin-top: 42px;
		}
	}

	// 랭킹 메인 앵커메뉴
	.m_ranking-anchor {
		position: fixed;
		z-index: const.$zindex_floating;
		top: 50%;
		right: 0;
		width: 46px;
		border-radius: 4px 0 0 4px;
		background-color: rgba(#fff, 0.94);
		box-shadow: 2px 3px 8px 0 rgba(#000, 0.23);
		opacity: 0;
		font-size: 0;
		transform: translate(100%, -50%);
		transition: opacity const.$time_fast, transform const.$time_fast;

		&#{escape('.S=anchor-on')} {
			opacity: 1;
			transform: translate(0%, -50%);
		}

		ul {
			li {
				&:nth-child(n+2) {
					border-top: 1px solid #dcdcdc;
				}

				a {
					flex-direction: column;
					justify-content: center;
					height: 58px;
					@include mixin.font(#4a4a4a '1.3rem/1.6rem' center);

					> i::before {
						margin-bottom: 8px;
						width: 11px;
						height: 11px;
					}
				}
			}
		}

		$icons: (star-fill, #f2953a), (brand, #6ed3ba), (view, #f1a8ad), (like-fill, #9fe5a4);
		@each $icon, $color, $size, $url in $icons {
			.ico_#{$icon}::before {
				background-color: $color;
				@if $icon == brand {
					@include mixin.svg(url('/public/images/common/ico_brand.svg'));
				}
				@else if $icon == view {
					margin-bottom: 6px;
					width: 15px;
					@include mixin.svg(url('/public/images/common/ico_hide.svg'));
				}
				@else if $icon == like-fill {
					margin-top: -1px;
				}
			}
		}
	}

	// 랭킹 리스트 카테고리
	.m_ranking-category {
		height: 104px;

		&#{escape('.S=sticky-on')} {
			.m_ranking-category-list {
				position: fixed;
				z-index: #{const.$zindex_floating - 1}; // 스티키 모션이 헤더 floating 아래로 들어가기 위해 -1 추가
				top: 0;
				right: 0;
				left: 0;
				padding: 0;
				border-bottom: 0;
				box-shadow: 0 2px 14px 0 rgba(#000, 0.18);
				transform: translateY(calc(var.$header_height_main + var.$gnb_height_base));
				transition: transform const.$time_fast;

				#{escape('.S=hide')} & {
					transform: translateY(var.$gnb_height_base);
				}

				ul {
					padding: 0 5px;
				}

				a {
					padding: 0 10px;

					&#{escape('.S=category-on')} {
						&::after {
							position: absolute;
							z-index: 1;
							right: 8px;
							bottom: 0;
							left: 9px;
							border-bottom: 3px solid #101010;
							content: '';
						}

						b {
							color: #4a4a4a;
						}
					}

					> i {
						display: none;
					}

					b {
						position: static;
						@include mixin.font('1.4rem/5rem');
					}
				}
			}
		}

		&-list {
			padding: 20px 0 15px;
			border-bottom: 1px solid #e6e6e6;
			background-color: #fff;
		}

		.mm_scroller {
			ul {
				display: inline-block;
				padding: 0 7px;
				@include mixin.font('0', nowrap);

				li {
					display: inline-block;

					a {
						display: block;
						position: relative;
						padding: 0 7px 23px;

						i {
							position: relative;
							width: 45px;
							height: 45px;
							border-radius: 100%;
							background-color: #f5f5f5;

							&.ico_category-all {
								border: 1px solid #cdcdcd;
								background-color: #fff;
								text-align: center;

								&::before {
									@include mixin.font(#6a6a6a v_700 '1.4rem/4.5rem');

									content: 'ALL';
								}
							}
						}

						b {
							@include mixin.text-ellipsis(1);

							position: absolute;
							right: 0;
							bottom: 0;
							left: 0;
							height: auto;
							@include mixin.font(#4a4a4a '1.2rem/2rem' center);
						}

						&#{escape('.S=category-on')} {
							i::after {
								position: absolute;
								inset: 0;
								border: 2px solid var.$color_main;
								border-radius: 100%;
								content: '';
							}

							.ico_category-all::after {
								inset: -1px;
							}

							b {
								color: var.$color_main;
							}
						}
					}
				}
			}
		}
	}

	// 아이템 랭킹
	.m_ranking-item:not([class*='T=custom']) {
		.mm_product-list {
			li {
				&:nth-child(-n+3) {
					grid-column: 1/3;
					margin-bottom: -13px;
				}

				&:nth-child(3) {
					margin-bottom: -1px;
				}
			}
		}

		.mm_product-item#{escape('.T=single')} {
			figcaption {
				padding-right: 0;

				.text_sale {
					right: 1px;
				}
			}
		}
	}

	// 랭킹 브랜드
	.m_ranking-brand:not([class*='T=custom']) {
		@include mixin.is('section', '&') {
			margin-top: 60px;
			padding-bottom: 32px;
			background-color: #f5f5f5;

			.text_update {
				margin-bottom: 22px;
			}

			.mm_foot {
				margin-top: 29px;
			}
		}

		// 브랜드 랭킹 리스트
		.m_ranking-brand-list {
			counter-reset: listIndex;

			.m_ranking-head + & {
				margin-top: 32px;
			}

			> ol {
				> li {
					position: relative;

					&:nth-child(n+2) {
						margin-top: 38px;
					}

					> .btn_brand {
						display: block;
						@include mixin.text-ellipsis(1);

						position: relative;
						padding: 0 30px 0 80px;
						@include mixin.font(#4a4a4a v_600 '1.4rem/2.8rem');

						> b {
							display: inline;
						}

						.ico_link {
							position: absolute;
							top: 7px;
							right: 6px;

							&::before {
								width: 7px;
								height: 14px;
								background-color: #999;
							}
						}
					}

					.text_rank {
						position: absolute;
						top: 2px;
						left: 4px;
					}
				}
			}
		}

		.mm_product-list#{escape('.T=card')} {
			margin-top: 14px;

			ul {
				grid-template-columns: repeat(3, 1fr);
				grid-column-gap: 6px;
			}
		}

		.mm_product-item {
			.image_product {
				display: block;
				position: relative;
				padding-top: const.$prod_height_base;
			}

			figcaption {
				margin-top: 7px;
				padding-right: 7px;

				.text_price {
					text-align: right;

					strong {
						@include mixin.font('1.2rem/1.6rem');

						&::after {
							vertical-align: 0;
							font-size: 1rem;
						}
					}
				}
			}
		}
	}
}

/** B타입 */
.m_ranking#{escape('.T=rb')} {
	padding-top: 30px;

	> h2 {
		padding: 4px 0 20px;
		@include mixin.font(v_700 '2.6rem' center);
	}

	// B타입 공통
	[class*='m_ranking-']:not([class*='T=custom']) {
		// 랭킹 메인
		@include mixin.is('section', '&') {
			&:nth-of-type(n+2) {
				margin-top: 30px;
			}

			h3 {
				padding: 32px 0 20px;
				@include mixin.font('2.2rem' center);
			}

			.mm_foot {
				margin-top: 31px;

				.ico_link {
					margin: 10px 0 0 9px;

					&::before {
						background-color: #6a6a6a;
					}
				}
			}
		}

		.text_rank {
			&::before {
				counter-increment: listIndex;
				content: counter(listIndex);
			}

			.ico_rank-new::before {
				content: 'NEW';
			}
		}

		.m_ranking-head {
			position: relative;
			padding: 16px 0;
			@include mixin.clearfix;

			&-update {
				display: inline-block;
				font-size: 0;

				.text_update {
					display: inline-block;
					@include mixin.font(#7b7b7b '1.3rem/2.7rem');

					span {
						margin-right: 5px;
						font-variation-settings: 'wght' 400;
					}
				}

				.btn_help {
					position: relative;
					margin: 8px 0 0 4px;

					&::before {
						position: absolute;
						inset: -8px;
						content: '';
					}
				}

				#{escape('.m...update-tooltip')} {
					display: none;
					position: absolute;
					z-index: 4; // 상품의 text_rank 보다 위에 띄우기 위해 z-index 값을 4로 합니다.
					right: 0;
					left: 0;
					margin-top: -3px;
					padding: 8px 50px 8px 11px;
					border: 1px solid #8c8c8c;
					border-radius: 3px;
					background-color: #fff;
					@include mixin.font(#2b2b2b '1.4rem/1.8rem');

					.btn_close {
						position: absolute;
						top: 0;
						right: 0;
						padding: 11px;
						height: 33px;
					}
				}

				&#{escape('.S=switch-on')} {
					#{escape('.m...update-tooltip')} {
						display: block;
					}
				}
			}

			&-sort {
				display: inline-block;
				float: right;

				.mm_form-select {
					width: auto;
					min-width: 120px;

					label {
						height: 27px;
						border: 0;

						.text_selected {
							padding-right: 22px;
							@include mixin.font(var.$color_text_base v_600 '1.3rem/2.7rem' right);
						}

						.ico_form-select {
							top: 10px;
							right: 6px;

							&::before {
								width: 9px;
							}
						}
					}
				}
			}
		}

		// 랭킹 상품리스트 순위 노출
		.mm_product-list,
		&.mm_product-list {
			counter-reset: listIndex;

			.text_rank {
				position: absolute;
				z-index: 3; // text_adult 의 z-index보다 높이기 위해 3으로 설정
			}
		}
	}

	// 랭킹 GNB
	.m_ranking-gnb {
		height: 34px;

		&#{escape('.S=gnb-sticky')} {
			.m_ranking-gnb-inner {
				position: fixed;
				z-index: const.$zindex_floating - 1;
				top: 0;
				left: 0;
				width: 100%;
				height: 50px;
				background-color: #fff;
				box-shadow: 0 2px 14px 0 rgba(#000, 0.18);
				transform: translateY(153px);
				transition: transform, const.$time_fast;

				#{escape('.S=app')}:not(#{escape('.S=hide')}) & {
					transform: translateY(103px);
				}

				#{escape('.S=hide')} & {
					transform: translateY(var.$gnb_height_base);
				}

				li {
					&:nth-child(n+2) {
						margin-left: 8px;
					}

					a {
						padding: 0 10px;
						width: auto;
						height: 100%;
						border: 0;
						background-color: #fff;
						@include mixin.font(#888 '/5rem');

						&#{escape('.S=gnb-on')} {
							color: var.$color_text_base;

							&::after {
								position: absolute;
								right: 0;
								bottom: 0;
								left: 0;
								border-bottom: 4px solid #101010;
								content: '';
							}

							.ico_ranking-home::before {
								background-color: #101010;
							}
						}

						.ico_ranking-home {
							margin-top: 17px;

							&::before {
								width: 14px;
								height: 16px;
								background-color: #888;
							}
						}
					}
				}
			}
		}

		// GNB와 category가 모두 sticky되면 gnb에 스타일을 위한 클래스를 추가합니다.
		&#{escape('.S=sticky-cate')} {
			.m_ranking-gnb-inner {
				box-shadow: none;

				&::before {
					position: absolute;
					z-index: 1;
					right: 0;
					bottom: 0;
					left: 0;
					border-bottom: 1px solid #eee;
					content: '';
				}
			}
		}

		&-inner {
			text-align: center;
			transform: translateY(0);

			ul {
				display: inline-block;
				font-size: 0;

				li {
					display: inline-block;

					&:first-child {
						a {
							padding-top: 7px;
							width: 34px;
						}
					}

					&:nth-child(n+2) {
						margin-left: 4px;
					}
				}
			}
		}

		a {
			position: relative;
			width: 56px;
			height: 34px;
			border: 1px solid #cdcdcd;
			border-radius: 34px;
			@include mixin.font(#888 v_600 '1.4rem/3.2rem' center);

			&#{escape('.S=gnb-on')} {
				border-color: #101010;
				background-color: #101010;
				color: #fff;

				.ico_ranking-home::before {
					background-color: #fff;
				}
			}
		}
	}

	// 랭킹 카테고리
	.m_ranking-category {
		margin-top: 23px;
		height: 50px;

		&#{escape('.S=category-sticky')} {
			.m_ranking-category-inner {
				position: fixed;
				z-index: const.$zindex_floating - 2;
				top: 0;
				left: 0;
				width: 100%;
				background-color: #fff;
				box-shadow: 0 2px 14px 0 rgba(#000, 0.18);
				transform: translate(203px);
				transition: transform, const.$time_fast;

				#{escape('.S=app')}:not(#{escape('.S=hide')}) & {
					transform: translateY(153px);
				}

				#{escape('.S=hide')} & {
					transform: translateY(calc(var.$gnb_height_base + 50px));
				}

				button {
					height: 40px;
					line-height: 4rem;
				}
			}
		}

		&-inner {
			position: relative;

			ul {
				display: inline-block;
				position: relative;
				margin-left: -11px;
				padding: 0 14px;
				min-width: 100%;
				@include mixin.font('0', nowrap);

				&::before {
					position: absolute;
					right: 25px;
					bottom: 0;
					left: 25px;
					border-bottom: 1px solid #e6e6e6;
					content: '';
				}

				li {
					display: inline-block;
				}
			}

			button {
				padding: 0 11px;
				height: 50px;
				@include mixin.font(#2b2b2b '1.4rem/5rem');

				&#{escape('.S=category-on')} {
					@include mixin.font(var.$color_text_base v_700);

					> b {
						position: relative;

						&::after {
							position: absolute;
							z-index: 1;
							right: -1px;
							bottom: 0;
							left: 0;
							border-bottom: 4px solid #101010;
							content: '';
						}
					}
				}
			}
		}
	}

	// 아이템 랭킹
	.m_ranking-item:not([class*='T=custom']) {
		.mm_product-list {
			position: relative;
			@include mixin.context-before('.m_ranking-head +') {
				li:nth-child(4),
				li:nth-child(5) {
					margin-top: 47px;
				}

				li:nth-child(4)::before {
					position: absolute;
					right: 0;
					left: 0;
					margin-top: -35px;
					border-top: 1px solid #dcdcdc;
					content: '';
				}
			}

			ol {
				grid-gap: 19px 12px;

				li:first-child {
					grid-column: 1/3;

					.text_rank {
						padding-top: 9px;
						width: 50px;
						height: 50px;
						background-color: #f84f34;

						&::before {
							font-size: 1.7rem;
						}

						$ranks: up, down, new, unchanged;
						@each $rank, $color in $ranks {
							@if $rank == up or $rank == down {
								.text_rank-#{$rank} {
									margin-top: 4px;
								}

								.ico_rank-#{$rank} {
									margin: 1px 4px 0 0;

									&::before {
										width: 7px;
										height: 11px;
									}
								}
							}

							.ico_rank-#{$rank} {
								@if $rank == up or $rank == down {
									margin: 1px 4px 0 0;

									&::before {
										width: 7px;
										height: 11px;
									}
								}
								@if $rank == new or $rank == unchanged{
									margin-top: 4px;
								}
							}
						}
					}

					.text_tag {
						top: 50px;
					}

					figcaption {
						.text_product {
							height: auto;
							max-height: 40px;
						}
					}
				}
			}
		}

		.mm_product-item {
			.text_rank {
				padding-top: 6px;
				width: 40px;
				height: 40px;
				background-color: #5c5c5c;
				@include mixin.font(#fff center);

				&::before {
					font-size: 1.5rem;
				}

				> * {
					display: block;
				}

				$ranks: up, down, new, unchanged;
				@each $rank, $color in $ranks {
					@if $rank == up or $rank == down {
						.text_rank-#{$rank} {
							margin-top: 2px;
							@include mixin.font(v_400 '1.2rem');
						}
					}

					.ico_rank-#{$rank} {
						font-size: 1.2rem;
						@if $rank == up or $rank == down {
							margin: 0 4px 0 0;

							&::before {
								width: 6px;
								height: 11px;
								background-color: #fff;
							}
						}
						@if $rank == new {
							margin-top: 2px;

							&::before {
								@include mixin.font(#fff v_500 '1.2rem');
							}
						}
						@if $rank == unchanged {
							margin-top: 3px;

							&::before {
								background-color: #fff;
							}
						}
					}
				}
			}

			.text_tag {
				top: 40px;
			}
		}
	}

	// 브랜드 랭킹
	.m_ranking-brand:not([class*='T=custom']) {
		@include mixin.context-before('.m_ranking-gnb +') {
			margin-top: 20px;
		}

		// 랭킹 메인
		@include mixin.is('section', '&') {
			h3 {
				padding-bottom: 18px;
			}

			.m_ranking-brand-list {
				> ol {
					> li {
						&#{escape('.S=brand-on')} {
							.btn_brand {
								@include mixin.font(var.$color_text_base v_600 '1.7rem');

								&::before {
									position: absolute;
									inset: -1px 0 0;
									border: 1px solid #101010;
									content: '';
								}

								.text_rank::before {
									@include mixin.font(var.$color_text_base '2rem');
								}
							}

							.mm_product-list {
								height: auto;
							}
						}

						&:last-child {
							.mm_product-list {
								> ol {
									margin-bottom: 0;
								}
							}
						}
					}
				}
			}

			.btn_brand {
				position: relative;
				padding: 0 48px;
				width: 100%;
				height: 45px;
				@include mixin.font(#6a6a6a '1.5rem/4.4rem' left);

				.text_rank {
					position: absolute;
					right: 0;
					left: 0;

					&::before {
						position: absolute;
						top: 0;
						left: 0;
						width: 44px;
						@include mixin.font('1.7rem' center);
					}

					> * {
						position: absolute;
						right: 22px;
					}

					$ranks: (up, #ee6439), (down, #645ffc), (new, var.$color_text_base), (unchanged, #888);
					@each $rank, $color in $ranks {
						@if $rank == up or $rank == down {
							.text_rank-#{$rank} {
								margin-top: 12px;
								@include mixin.font($color v_400 '1.2rem/2rem');
							}
						}

						.ico_rank-#{$rank} {
							@if $rank == unchanged {
								margin: 20px 3px 0 0;
							}
							@else if $rank == new {
								margin-top: 16px;

								&::before {
									@include mixin.font($color v_600 '1.2rem');
								}
							}
							@else {
								margin: 7px 3px 0 0;
							}
						}
					}
				}
			}

			.mm_product-list {
				overflow: hidden;
				height: 0;

				ol {
					display: grid;
					grid-template-columns: repeat(3, 1fr);
					grid-column-gap: 6px;
					margin-bottom: 8px;
					padding: 14px 0 20px;
					border-bottom: 1px solid #dcdcdc;

					li:nth-child(n+2) {
						margin: 0;
					}
				}
			}

			.mm_product-item {
				.text_price {
					margin-top: 3px;
				}
			}
		}

		// 랭킹 서브
		.m_ranking-head + .m_ranking-brand-list {
			margin-top: -6px;

			> ol {
				> li:nth-child(n+2) {
					margin-top: 33px;
				}
			}

			.btn_brand {
				position: relative;
				margin-bottom: 20px;
				padding: 0 56px;
				width: 100%;
				border-bottom: 2px solid #101010;
				@include mixin.font('1.7rem/4.8rem' left);

				.text_rank {
					position: absolute;
					top: 0;
					left: 0;

					&::before {
						font-variation-settings: 'wght' 700;
					}

					$ranks: (up, #ee6439), (down, #645ffc), (new, var.$color_text_base), (unchanged, #888);
					@each $rank, $color in $ranks {
						@if $rank == up or $rank == down {
							.text_rank-#{$rank} {
								display: inline-block;
								margin: 14px 0 0 11px;
								@include mixin.font($color v_400 '1.2rem/2rem');
							}
						}

						.ico_rank-#{$rank} {
							@if $rank == unchanged {
								margin: 22px 0 0 10px;
							}
							@else if $rank == new {
								margin: 18px 0 0 11px;

								&::before {
									@include mixin.font($color v_600 '1.2rem');

									content: 'new';
								}
							}
							@else {
								margin: 7px 3px 0 0;
							}
						}
					}
				}

				&::before {
					position: absolute;
					right: 10px;
					bottom: 23px;
					width: 15px;
					border-top: 1px solid #888;
					content: '';
				}

				&::after {
					position: absolute;
					right: 17px;
					bottom: 16px;
					height: 15px;
					border-left: 1px solid #888;
					content: '';
				}
			}

			.mm_product-list {
				margin: 0 -14px;

				ol {
					display: inline-block;
					padding: 0 14px;
					@include mixin.font('0', nowrap);

					> li {
						display: inline-block;
					}
				}
			}

			.mm_product-item {
				width: 35.10638vw;

				.image_product {
					padding-top: 100%;
				}

				.text_price {
					margin-top: 6px;
				}
			}
		}

		// 브랜드 랭킹 리스트 공통
		.m_ranking-brand-list {
			counter-reset: listIndex;

			.mm_product-list {
				li:nth-child(n+2) {
					margin: 0 0 0 6px;
				}
			}

			.mm_product-item {
				.image_product {
					width: 100%;
				}

				figcaption {
					position: relative;
					margin: 0;
					padding: 0;

					.text_price {
						text-align: right;

						> strong {
							font-size: 1.4rem;

							&::after {
								@include mixin.font(v_400 '1.2rem');
							}
						}
					}
				}
			}
		}

		.mm_foot {
			margin-top: 21px;
		}
	}

	// view 랭킹
	.m_ranking-view:not([class*='T=custom']) {
		// 랭킹 메인
		@include mixin.is('section', '&') {
			.mm_product-list {
				ol {
					grid-gap: 6px;
				}

				li {
					&:first-child,
					&:nth-child(4) {
						grid-column: 1/3;

						.text_product {
							font-size: 1.7rem;
						}
					}

					&:first-child {
						.text_rank {
							padding-top: 9px;
							width: 50px;
							height: 50px;
							background-color: #f84f34;

							&::before {
								font-size: 1.7rem;
							}

							$ranks: up, down, new, unchanged;
							@each $rank, $color in $ranks {
								@if $rank == up or $rank == down {
									.text_rank-#{$rank} {
										margin-top: 4px;
									}

									.ico_rank-#{$rank} {
										margin: 1px 4px 0 0;

										&::before {
											width: 7px;
											height: 11px;
										}
									}
								}

								.ico_rank-#{$rank} {
									@if $rank == up or $rank == down {
										margin: 1px 4px 0 0;

										&::before {
											width: 7px;
											height: 11px;
										}
									}
									@if $rank == new or $rank == unchanged {
										margin-top: 4px;
									}
								}
							}
						}

						.text_tag {
							top: 50px;
						}

						figcaption {
							.text_product {
								height: auto;
								max-height: 40px;
							}
						}
					}
				}
			}

			.mm_product-item {
				figcaption {
					position: absolute;
					bottom: 17px;
					left: 0;
					padding: 0 14px;
					width: 100%;

					.text_product {
						display: block;
						height: 20px;
						@include mixin.font(#fff v_600 '1.4rem');
						@include mixin.text-ellipsis(1);
					}
				}
			}
		}

		// view 랭킹 서브 페이지
		.m_ranking-head + .mm_product-list {
			position: relative;

			ol {
				grid-gap: 21px 6px;
			}

			li {
				// 1위
				&:first-child {
					.text_rank {
						background-color: #f84f34;
					}
				}

				// 1~3위
				&:nth-child(-n+3) {
					grid-column: 1/3;

					.text_rank {
						padding-top: 9px;
						width: 50px;
						height: 50px;

						&::before {
							font-size: 1.7rem;
						}

						$ranks: up, down, new, unchanged;
						@each $rank, $color in $ranks {
							@if $rank == up or $rank == down {
								.text_rank-#{$rank} {
									margin-top: 4px;
								}

								.ico_rank-#{$rank} {
									margin: 1px 4px 0 0;

									&::before {
										width: 7px;
										height: 11px;
									}
								}
							}

							.ico_rank-#{$rank} {
								@if $rank == up or $rank == down {
									margin: 1px 4px 0 0;

									&::before {
										width: 7px;
										height: 11px;
									}
								}
								@if $rank == new or $rank == unchanged {
									margin-top: 4px;
								}
							}
						}
					}

					.text_tag {
						top: 50px;
					}

					.text_product {
						font-size: 1.6rem;
					}
				}

				// 4~7위
				&:nth-child(n+4):nth-child(-n+7) {
					.text_product {
						font-size: 1.4rem;
					}
				}

				// 1~7위
				&:nth-child(-n+7) {
					margin-bottom: -15px;

					figcaption {
						position: absolute;
						bottom: 17px;
						left: 0;
						padding: 0 14px;
						width: 100%;
					}

					.text_product {
						@include mixin.text-ellipsis(1);

						display: block;
						height: 20px;
						@include mixin.font(#fff v_600);
					}
				}

				// 8위, 9위
				&:nth-child(8)::before {
					position: absolute;
					right: 0;
					left: 0;
					margin-top: -35px;
					border-top: 1px solid #dcdcdc;
					content: '';
				}

				&:nth-child(8),
				&:nth-child(9) {
					margin-top: 63px;
				}

				// 8위 이상 홀수
				&:nth-child(n+8):not(:nth-child(odd)) {
					margin-right: 3px;
				}

				// 8위 이상 짝수
				&:nth-child(n+8):not(:nth-child(even)) {
					margin-left: 3px;
				}
			}
		}

		.text_rank {
			padding-top: 6px;
			width: 40px;
			height: 40px;
			background-color: #5c5c5c;
			@include mixin.font(#fff center);

			&::before {
				font-size: 1.5rem;
			}

			> * {
				display: block;
			}

			$ranks: up, down, new, unchanged;
			@each $rank, $color in $ranks {
				@if $rank == up or $rank == down {
					.text_rank-#{$rank} {
						margin-top: 2px;
						@include mixin.font(v_400 '1.2rem');
					}
				}

				.ico_rank-#{$rank} {
					font-size: 1.2rem;
					@if $rank == up or $rank == down {
						margin: 0 4px 0 0;

						&::before {
							width: 6px;
							height: 11px;
							background-color: #fff;
						}
					}
					@if $rank == new {
						margin-top: 2px;

						&::before {
							@include mixin.font(#fff v_500 '1.2rem');
						}
					}
					@if $rank == unchanged {
						margin-top: 3px;

						&::before {
							background-color: #fff;
						}
					}
				}
			}
		}

		.text_tag {
			top: 40px;
		}
	}

	// 찜 랭킹
	.m_ranking-like:not([class*='T=custom']) {
		h3 {
			padding-bottom: 22px;
			border-bottom: 1px solid #101010;
		}

		// 랭킹 메인
		@include mixin.is('section', '&') {
			.mm_product-list {
				margin-top: 31px;
			}
		}

		.mm_product-list {
			border-bottom: 1px solid #eee;

			// 랭킹 서브
			@include mixin.context-before('.m_ranking-head +') {
				margin-top: 9px;
			}

			li {
				&:nth-child(-n+3) {
					&:not(:first-child) {
						margin-top: 21px;
					}

					.mm_product-item {
						> a {
							min-height: 140px;
						}

						.image_product,
						.text_adult {
							width: 37.23404vw;
						}

						figcaption {
							margin-left: 37.23404vw;

							.text_like {
								display: inline-block;
								margin-top: 9px;
								padding: 0 9px;
								height: 22px;
								border: 1px solid #dcdcdc;
								border-radius: 22px;
								@include mixin.font(v_700 '1.1rem/2rem' center);

								.ico_like-fill {
									margin: 5px 5px 0 0;

									&::before {
										width: 11px;
										height: 11px;
										background-color: #f84f34;
									}
								}
							}
						}
					}
				}

				&:nth-child(n+4) {
					margin-top: 30px;
					padding: 16px 0 17px;
					border-top: 1px solid #eee;

					&:not(:nth-child(4)) {
						margin-top: 0;
					}

					.mm_product-item {
						> a {
							min-height: 112px;
						}

						.text_product {
							color: #4a4a4a;
						}

						.text_like {
							margin-top: 9px;

							.ico_like {
								margin-right: 3px;

								&::before {
									width: 9px;
									height: 9px;
									background-color: #888;
								}
							}
						}
					}
				}
			}
		}

		.mm_product-item {
			> a {
				padding-left: 50px;
			}

			.text_rank {
				position: absolute;
				top: 0;
				left: 0;
				padding-top: 2px;
				width: 40px;
				text-align: center;

				&::before {
					@include mixin.font(v_700 '2rem');
				}

				> * {
					display: block;
				}

				$ranks: (up, #ee6439), (down, #645ffc), (new, var.$color_text_base), (unchanged, #888);
				@each $rank, $color in $ranks {
					@if $rank == up or $rank == down {
						.text_rank-#{$rank} {
							margin-top: 5px;
							@include mixin.font($color v_400 '1.2rem');

							> i {
								///
							}
						}
					}

					.ico_rank-#{$rank} {
						@if $rank == unchanged {
							margin-top: 7px;
						}
						@else if $rank == new {
							margin-top: 3px;

							&::before {
								@include mixin.font($color v_600 '1.2rem');
							}
						}
						@else {
							margin: 3px 4px 0 0;
						}
					}
				}
			}

			figure {
				position: relative;

				.image_product,
				.text_adult {
					width: 19.94680vw;
				}

				figcaption {
					margin-left: 19.94680vw;
					padding-top: 0;
				}
			}
		}
	}
}

/** C타입 */
// .m_ranking#{escape('.T=rc')} {

// }

/** D타입 */
.m_ranking#{escape('.T=rd')} {
	padding-top: 30px;

	> h2 {
		padding: 4px 0 20px;
		@include mixin.font(v_700 '2.6rem' center);
	}

	// D타입 공통
	[class*='m_ranking-']:not([class*='T=custom']) {
		// 랭킹 메인
		@include mixin.is('section', '&') {
			&:nth-of-type(n+2) {
				margin-top: 30px;
			}

			h3 {
				padding: 32px 0 20px;
				@include mixin.font('2.2rem' center);
			}

			.mm_foot {
				margin-top: 31px;

				.ico_link {
					margin: 10px 0 0 9px;

					&::before {
						background-color: #6a6a6a;
					}
				}
			}
		}

		.text_rank {
			&::before {
				counter-increment: listIndex;
				content: counter(listIndex);
			}

			.ico_rank-new::before {
				content: 'NEW';
			}
		}

		.m_ranking-head {
			position: relative;
			padding: 16px 0;
			@include mixin.clearfix;

			&-update {
				display: inline-block;
				font-size: 0;

				.text_update {
					display: inline-block;
					@include mixin.font(#7b7b7b '1.3rem/2.7rem');

					span {
						margin-right: 5px;
						font-variation-settings: 'wght' 400;
					}
				}

				.btn_help {
					position: relative;
					margin: 8px 0 0 4px;

					&::before {
						position: absolute;
						inset: -8px;
						content: '';
					}
				}

				#{escape('.m...update-tooltip')} {
					display: none;
					position: absolute;
					z-index: 4; // 상품의 text_rank 보다 위에 띄우기 위해 z-index 값을 4로 합니다.
					right: 0;
					left: 0;
					margin-top: -3px;
					padding: 8px 50px 8px 11px;
					border: 1px solid #8c8c8c;
					border-radius: 3px;
					background-color: #fff;
					@include mixin.font(#2b2b2b '1.4rem/1.8rem');

					.btn_close {
						position: absolute;
						top: 0;
						right: 0;
						padding: 11px;
						height: 33px;
					}
				}

				&#{escape('.S=switch-on')} {
					#{escape('.m...update-tooltip')} {
						display: block;
					}
				}
			}

			&-sort {
				display: inline-block;
				float: right;

				.mm_form-select {
					width: auto;
					min-width: 120px;

					label {
						height: 27px;
						border: 0;

						.text_selected {
							padding-right: 22px;
							@include mixin.font(var.$color_text_base v_600 '1.3rem/2.7rem' right);
						}

						.ico_form-select {
							top: 10px;
							right: 6px;

							&::before {
								width: 9px;
							}
						}
					}
				}
			}
		}

		// 랭킹 상품리스트 순위 노출
		.mm_product-list,
		&.mm_product-list {
			counter-reset: listIndex;

			.text_rank {
				position: absolute;
				z-index: 3; // text_adult 의 z-index보다 높이기 위해 3으로 설정
			}
		}
	}

	// 랭킹 GNB
	.m_ranking-gnb {
		height: 34px;

		&#{escape('.S=gnb-sticky')} {
			.m_ranking-gnb-inner {
				position: fixed;
				z-index: const.$zindex_floating - 1;
				top: 0;
				left: 0;
				width: 100%;
				height: 50px;
				background-color: #fff;
				box-shadow: 0 2px 14px 0 rgba(#000, 0.18);
				transform: translateY(153px);
				transition: transform, const.$time_fast;

				#{escape('.S=app')}:not(#{escape('.S=hide')}) & {
					transform: translateY(103px);
				}

				#{escape('.S=hide')} & {
					transform: translateY(var.$gnb_height_base);
				}

				li {
					&:nth-child(n+2) {
						margin-left: 8px;
					}

					a {
						padding: 0 10px;
						width: auto;
						height: 100%;
						border: 0;
						background-color: #fff;
						@include mixin.font(#888 '/5rem');

						&#{escape('.S=gnb-on')} {
							color: var.$color_text_base;

							&::after {
								position: absolute;
								right: 0;
								bottom: 0;
								left: 0;
								border-bottom: 4px solid #101010;
								content: '';
							}

							.ico_ranking-home::before {
								background-color: #101010;
							}
						}

						.ico_ranking-home {
							margin-top: 17px;

							&::before {
								width: 14px;
								height: 16px;
								background-color: #888;
							}
						}
					}
				}
			}
		}

		// GNB와 category가 모두 sticky되면 gnb에 스타일을 위한 클래스를 추가합니다.
		&#{escape('.S=sticky-cate')} {
			.m_ranking-gnb-inner {
				box-shadow: none;

				&::before {
					position: absolute;
					z-index: 1;
					right: 0;
					bottom: 0;
					left: 0;
					border-bottom: 1px solid #eee;
					content: '';
				}
			}
		}

		&-inner {
			text-align: center;
			transform: translateY(0);

			ul {
				display: inline-block;
				font-size: 0;

				li {
					display: inline-block;

					&:first-child {
						a {
							padding-top: 7px;
							width: 34px;
						}
					}

					&:nth-child(n+2) {
						margin-left: 4px;
					}
				}
			}
		}

		a {
			position: relative;
			width: 56px;
			height: 34px;
			border: 1px solid #cdcdcd;
			border-radius: 34px;
			@include mixin.font(#888 v_600 '1.4rem/3.2rem' center);

			&#{escape('.S=gnb-on')} {
				border-color: #101010;
				background-color: #101010;
				color: #fff;

				.ico_ranking-home::before {
					background-color: #fff;
				}
			}
		}
	}

	// 랭킹 카테고리
	.m_ranking-category {
		margin-top: 23px;
		height: 50px;

		&#{escape('.S=category-sticky')} {
			.m_ranking-category-inner {
				position: fixed;
				z-index: const.$zindex_floating - 2;
				top: 0;
				left: 0;
				width: 100%;
				background-color: #fff;
				box-shadow: 0 2px 14px 0 rgba(#000, 0.18);
				transform: translateY(203px);
				transition: transform, const.$time_fast;

				#{escape('.S=app')}:not(#{escape('.S=hide')}) & {
					transform: translateY(153px);
				}

				#{escape('.S=hide')} & {
					transform: translateY(calc(var.$gnb_height_base + 50px));
				}

				button {
					height: 40px;
					line-height: 4rem;
				}
			}
		}

		&-inner {
			position: relative;

			&::after {
				position: absolute;
				right: 0;
				bottom: 0;
				left: 0;
				border-bottom: 1px solid #e6e6e6;
				content: '';
			}

			ul {
				display: inline-block;
				position: relative;
				margin-left: -11px;
				padding: 0 14px;
				min-width: 100%;
				@include mixin.font('0', nowrap);

				li {
					display: inline-block;
				}
			}

			button {
				padding: 0 11px;
				height: 50px;
				@include mixin.font(#2b2b2b '1.4rem/5rem');

				&#{escape('.S=category-on')} {
					@include mixin.font(var.$color_text_base v_700);

					> b {
						position: relative;

						&::after {
							position: absolute;
							z-index: 1;
							right: -1px;
							bottom: 0;
							left: 0;
							border-bottom: 4px solid #101010;
							content: '';
						}
					}
				}
			}
		}
	}

	// 아이템 랭킹
	.m_ranking-item:not([class*='T=custom']) {
		.mm_product-list {
			position: relative;

			ol {
				grid-gap: 24px 12px;

				li:first-child {
					.mm_product-item {
						.text_rank {
							background-color: #f84f34;
						}
					}
				}
			}
			@include mixin.context-before('.m_ranking-head +') {
				li:nth-child(5),
				li:nth-child(6) {
					margin-bottom: 41px;
				}

				li:nth-child(8)::before {
					position: absolute;
					right: 0;
					left: 0;
					margin-top: -34px;
					border-top: 1px solid #dcdcdc;
					content: '';
				}
			}
		}

		.mm_product-item {
			.text_rank {
				padding-top: 6px;
				width: 40px;
				height: 40px;
				background-color: #5c5c5c;
				@include mixin.font(#fff center);

				&:empty {
					padding-top: 13px;
				}

				&::before {
					font-size: 1.5rem;
				}

				> * {
					display: block;
				}

				$ranks: up, down, new, unchanged;
				@each $rank, $color in $ranks {
					@if $rank == up or $rank == down {
						.text_rank-#{$rank} {
							margin-top: 2px;
							@include mixin.font(v_400 '1.2rem');
						}
					}

					.ico_rank-#{$rank} {
						font-size: 1.2rem;
						@if $rank == up or $rank == down {
							margin: 0 4px 0 0;

							&::before {
								width: 6px;
								height: 11px;
								background-color: #fff;
							}
						}
						@if $rank == new {
							margin-top: 2px;

							&::before {
								@include mixin.font(#fff v_500 '1.2rem');
							}
						}
						@if $rank == unchanged {
							margin-top: 3px;

							&::before {
								background-color: #fff;
							}
						}
					}
				}
			}

			.text_product-status{
				position: initial;
				margin-top: 8px;
				padding: 3px 4px;
				width: 44px;
				height: 17px;
				border-radius: 2px;
				font-size: 1rem;
			}
		}
	}

	// 브랜드 랭킹
	.m_ranking-brand:not([class*='T=custom']) {
		@include mixin.context-before('.m_ranking-gnb +') {
			margin-top: 20px;
		}

		// 랭킹 메인
		@include mixin.is('section', '&') {
			h3 {
				padding-bottom: 18px;
			}

			.m_ranking-brand-list {
				> ol {
					> li {
						&#{escape('.S=brand-on')} {
							.btn_brand {
								@include mixin.font(var.$color_text_base v_600 '1.7rem');

								&::before {
									position: absolute;
									inset: -1px 0 0;
									border: 1px solid #101010;
									content: '';
								}

								.text_rank::before {
									@include mixin.font(var.$color_text_base '2rem');
								}
							}

							.mm_product-list {
								height: auto;
							}
						}

						&:last-child {
							.mm_product-list {
								> ol {
									margin-bottom: 0;
								}
							}
						}
					}
				}
			}

			.btn_brand {
				position: relative;
				padding: 0 48px;
				width: 100%;
				height: 45px;
				@include mixin.font(#6a6a6a '1.5rem/4.4rem' left);

				.text_rank {
					position: absolute;
					right: 0;
					left: 0;

					&::before {
						position: absolute;
						top: 0;
						left: 0;
						width: 44px;
						@include mixin.font('1.7rem' center);
					}

					> * {
						position: absolute;
						right: 22px;
					}

					$ranks: (up, #ee6439), (down, #645ffc), (new, var.$color_text_base), (unchanged, #888);
					@each $rank, $color in $ranks {
						@if $rank == up or $rank == down {
							.text_rank-#{$rank} {
								margin-top: 12px;
								@include mixin.font($color v_400 '1.2rem/2rem');
							}
						}

						.ico_rank-#{$rank} {
							@if $rank == unchanged {
								margin: 20px 3px 0 0;
							}
							@else if $rank == new {
								margin-top: 16px;

								&::before {
									@include mixin.font($color v_600 '1.2rem');
								}
							}
							@else {
								margin: 7px 3px 0 0;
							}
						}
					}
				}
			}

			.mm_product-list {
				overflow: hidden;
				height: 0;

				ol {
					display: grid;
					grid-template-columns: repeat(3, 1fr);
					grid-column-gap: 6px;
					margin-bottom: 8px;
					padding: 14px 0 20px;
					border-bottom: 1px solid #dcdcdc;

					li:nth-child(n+2) {
						margin: 0;
					}
				}
			}

			.mm_product-item {
				figcaption {
					position: relative;
					margin: 0;
					padding: 0;

					.text_price {
						margin-top: 3px;

						> strong {
							font-size: 1.4rem;

							&::after {
								@include mixin.font(v_400 '1.2rem');
							}
						}
					}
				}
			}
		}

		// 랭킹 서브
		&:not(section) {
			.m_ranking-brand-list {
				margin-top: -6px;

				> ol {
					> li:nth-child(n+2) {
						margin-top: 33px;
					}
				}

				.btn_brand {
					position: relative;
					margin-bottom: 20px;
					padding-right: 36px;
					width: 100%;
					border-bottom: 2px solid #101010;
					@include mixin.font('0/1');

					> b {
						@include mixin.font('1.7rem/4.8rem');
					}

					.text_rank {
						padding-right: 20px;

						&::before {
							font-variation-settings: 'wght' 700;
						}

						$ranks: (up, #ee6439), (down, #645ffc), (new, var.$color_text_base), (unchanged, #888);
						@each $rank, $color in $ranks {
							@if $rank == up or $rank == down {
								.text_rank-#{$rank} {
									display: inline-block;
									margin: 14px 0 0 11px;
									@include mixin.font($color v_400 '1.2rem/2rem');
								}
							}

							.ico_rank-#{$rank} {
								@if $rank == unchanged {
									margin: 22px 0 0 10px;
								}
								@else if $rank == new {
									margin: 18px 0 0 11px;

									&::before {
										@include mixin.font($color v_600 '1.2rem');

										content: 'new';
									}
								}
								@else {
									margin: 7px 3px 0 0;
								}
							}
						}
					}

					&::before {
						position: absolute;
						right: 10px;
						bottom: 23px;
						width: 15px;
						border-top: 1px solid #888;
						content: '';
					}

					&::after {
						position: absolute;
						right: 17px;
						bottom: 16px;
						height: 15px;
						border-left: 1px solid #888;
						content: '';
					}
				}

				.mm_product-list {
					margin: 0 -14px;

					ol {
						display: inline-block;
						padding: 0 14px;
						@include mixin.font('0', nowrap);

						> li {
							display: inline-block;

							&:nth-child(n+2) {
								margin-left: 8px;
							}
						}
					}
				}

				.mm_product-item {
					width: 35.10638vw;

					.image_product {
						padding-top: 100%;
					}

					figcaption {
						padding-right: 1px;

						.text_price {
							margin-top: 6px;

							> strong {
								font-size: 1.5rem;

								&::after {
									font-size: 1rem;
								}
							}
						}
					}
				}
			}
		}

		// 브랜드 랭킹 리스트 공통
		.m_ranking-brand-list {
			counter-reset: listIndex;

			.mm_product-item {
				.image_product {
					width: 100%;
				}

				figcaption {
					.text_price {
						text-align: right;
					}
				}
			}
		}

		.mm_foot {
			margin-top: 21px;
		}
	}

	// view 랭킹
	.m_ranking-view:not([class*='T=custom']) {
		// 랭킹 메인
		@include mixin.is('section', '&') {
			.mm_product-list {
				ol {
					grid-gap: 6px;
				}

				li {
					position: relative;

					&:first-child,
					&:nth-child(4) {
						grid-column: 1/3;

						.text_product {
							font-size: 1.7rem;
						}
					}

					&:first-child {
						.text_rank {
							padding-top: 9px;
							width: 50px;
							height: 50px;
							background-color: #f84f34;

							&:empty {
								padding-top: 17px;
							}

							&::before {
								font-size: 1.7rem;
							}

							$ranks: up, down, new, unchanged;
							@each $rank, $color in $ranks {
								@if $rank == up or $rank == down {
									.text_rank-#{$rank} {
										margin-top: 4px;
									}

									.ico_rank-#{$rank} {
										margin: 1px 4px 0 0;

										&::before {
											width: 7px;
											height: 11px;
										}
									}
								}

								.ico_rank-#{$rank} {
									@if $rank == up or $rank == down {
										margin: 1px 4px 0 0;

										&::before {
											width: 7px;
											height: 11px;
										}
									}
									@if $rank == new or $rank == unchanged{
										margin-top: 4px;
									}
								}
							}
						}

						figcaption {
							.text_product {
								height: auto;
								max-height: 40px;
							}
						}
					}
				}
			}

			.mm_product-item {
				.mm_image-scale::after {
					position: absolute;
					bottom: 0;
					left: 0;
					width: 100%;
					height: 38.50574%;
					@include mixin.background(transparent linear-gradient(180deg, transparent, rgba(0, 0, 0, 0.64)));

					content: '';
				}

				.image_product {
					display: block;
					position: relative;
					padding-top: const.$prod_height_base;
				}

				figcaption {
					position: absolute;
					bottom: 17px;
					left: 0;
					padding: 0 14px;
					width: 100%;

					.text_product {
						display: block;
						@include mixin.text-ellipsis(1);

						height: 20px;
						@include mixin.font(#fff v_600 '1.4rem');
					}
				}
			}
		}

		// view 랭킹 서브 페이지
		&:not(section) {
			.mm_product-list {
				position: relative;

				ol {
					grid-gap: 21px 6px;
				}

				li {
					// 1위
					&:first-child {
						.text_rank {
							background-color: #f84f34;
						}
					}

					&:nth-child(3),
					&:nth-child(4) {
						margin-bottom: 48px;
					}

					&:nth-child(5)::before {
						position: absolute;
						right: 0;
						left: 0;
						margin-top: -35px;
						border-top: 1px solid #dcdcdc;
						content: '';
					}
				}
			}
		}

		.text_rank {
			padding-top: 6px;
			width: 40px;
			height: 40px;
			background-color: #5c5c5c;
			@include mixin.font(#fff center);

			&:empty {
				padding-top: 13px;
			}

			&::before {
				font-size: 1.5rem;
			}

			> * {
				display: block;
			}

			$ranks: up, down, new, unchanged;
			@each $rank, $color in $ranks {
				@if $rank == up or $rank == down {
					.text_rank-#{$rank} {
						margin-top: 2px;
						@include mixin.font(v_400 '1.2rem');
					}
				}

				.ico_rank-#{$rank} {
					font-size: 1.2rem;
					@if $rank == up or $rank == down {
						margin: 0 4px 0 0;

						&::before {
							width: 6px;
							height: 11px;
							background-color: #fff;
						}
					}
					@if $rank == new {
						margin-top: 2px;

						&::before {
							@include mixin.font(#fff v_500 '1.2rem');
						}
					}
					@if $rank == unchanged {
						margin-top: 3px;

						&::before {
							background-color: #fff;
						}
					}
				}
			}
		}
	}

	// 찜 랭킹
	.m_ranking-like:not([class*='T=custom']) {
		h3 {
			margin-bottom: 31px;
			padding-bottom: 22px;
			border-bottom: 1px solid #101010;
		}

		.mm_product-list {
			border-bottom: 1px solid #eee;

			// 랭킹 서브
			@include mixin.context-before('.m_ranking-head +') {
				margin-top: 9px;
			}

			li {
				&:nth-child(-n+3) {
					&:not(:first-child) {
						margin-top: 21px;
					}

					.mm_product-item {
						> a {
							min-height: 140px;
						}

						.image_product,
						.text_adult {
							width: 37.23404vw;
						}

						figcaption {
							margin-left: 37.23404vw;

							.text_like {
								display: inline-block;
								margin-top: 9px;
								padding: 0 9px;
								height: 22px;
								border: 1px solid #dcdcdc;
								border-radius: 22px;
								@include mixin.font(v_700 '1.1rem/2rem' center);

								.ico_like-fill {
									margin: 5px 5px 0 0;

									&::before {
										width: 11px;
										height: 11px;
										background-color: #f84f34;
									}
								}
							}
						}
					}
				}

				&:nth-child(n+4) {
					margin-top: 30px;
					padding: 16px 0 17px;
					border-top: 1px solid #eee;

					&:not(:nth-child(4)) {
						margin-top: 0;
					}

					.mm_product-item {
						> a {
							min-height: 112px;
						}

						.text_product {
							color: #4a4a4a;
						}

						.text_like {
							margin-top: 9px;

							.ico_like {
								margin-right: 3px;

								&::before {
									width: 9px;
									height: 9px;
									background-color: #888;
								}
							}
						}
					}
				}
			}
		}

		.mm_product-item {
			> a {
				padding-left: 50px;
			}

			.text_rank {
				position: absolute;
				top: 0;
				left: 0;
				padding-top: 2px;
				width: 40px;
				text-align: center;

				&::before {
					@include mixin.font(v_700 '2rem');
				}

				> * {
					display: block;
				}

				$ranks: (up, #ee6439), (down, #645ffc), (new, var.$color_text_base), (unchanged, #888);
				@each $rank, $color in $ranks {
					@if $rank == up or $rank == down {
						.text_rank-#{$rank} {
							margin-top: 5px;
							@include mixin.font($color v_400 '1.2rem');
						}
					}

					.ico_rank-#{$rank} {
						@if $rank == unchanged {
							margin-top: 7px;
						}
						@else if $rank == new {
							margin-top: 3px;

							&::before {
								@include mixin.font($color v_600 '1.2rem');
							}
						}
						@else {
							margin: 3px 4px 0 0;
						}
					}
				}
			}

			figure {
				position: relative;

				.image_product,
				.text_adult {
					width: 19.94680vw;
				}

				figcaption {
					margin-left: 19.94680vw;
					padding-top: 0;
				}
			}
		}
	}
}
